{"version":3,"file":"static/js/435.399741c2.chunk.js","mappings":"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","sources":["webpack://samuray_way_functional_react_redux_toolkit/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.tsx","webpack://samuray_way_functional_react_redux_toolkit/./src/components/Users/User/User.module.css?cfea","components/Users/User/User.tsx","components/Users/Users.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pages\":\"Paginator_pages__87RmH\",\"selectedPage\":\"Paginator_selectedPage__VbWz1\"};","import styles from './Paginator.module.css'\r\nimport {useSelector} from 'react-redux';\r\nimport {AppRootStateType, useAppDispatch} from 'redux/store';\r\nimport {onPageChangeTC, requestUsersTC} from 'redux/users-reducer';\r\nimport {useEffect, useState} from 'react';\r\n\r\n\r\nexport const Paginator = () => {\r\n    const dispatch = useAppDispatch()\r\n    const currentPage = useSelector<AppRootStateType, number>(state => state.usersPage.currentPage)\r\n    const totalItemsCount = useSelector<AppRootStateType, number>(state => state.usersPage.totalItemsCount)\r\n    const pageSize = useSelector<AppRootStateType, number>(state => state.usersPage.pageSize);\r\n    const portionSize = 10\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i += 1) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(onPageChangeTC(pageNumber, pageSize))\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(requestUsersTC(currentPage, pageSize))\r\n    }, []);\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState<number>(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                portionNumber > 1 &&\r\n                <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>\r\n            }\r\n            {\r\n                pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map(p => (\r\n                        <span\r\n                            key={p}\r\n                            className={currentPage === p ? styles.pages + ' ' + styles.selectedPage : styles.pages}\r\n                            onClick={() => onPageChanged(p)}\r\n                        >\r\n                    {p}\r\n                    </span>))\r\n            }\r\n            {\r\n                portionCount > portionNumber &&\r\n                <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>\r\n            }\r\n        </div>\r\n    );\r\n};","// extracted by mini-css-extract-plugin\nexport default {\"userPhoto\":\"User_userPhoto__knmO2\"};","import React, {FC} from 'react';\r\nimport userPhoto from 'assets/images/user.png';\r\nimport {followTC, unfollowTC, UserType} from 'redux/users-reducer';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\nimport {AppRootStateType, useAppDispatch} from 'redux/store';\r\nimport styles from './User.module.css'\r\n\r\n\r\nexport const User: FC<UserPropsType> = ({user}) => {\r\n    const dispatch = useAppDispatch()\r\n    const followingInProgress = useSelector<AppRootStateType, number[]>(state => state.usersPage.followingInProgress)\r\n\r\n    return (\r\n        <div key={user.id}>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img\r\n                            src={user.photos.small ? user.photos.small : userPhoto}\r\n                            className={styles.userPhoto}\r\n                            alt=\"img\"\r\n                        />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed ?\r\n                        <button\r\n                            disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => dispatch(unfollowTC(user.id))}\r\n                        >\r\n                            Unfollow\r\n                        </button>\r\n                        :\r\n                        <button\r\n                            disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => dispatch(followTC(user.id))}\r\n                        >\r\n                            Follow\r\n                        </button>\r\n                    }\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'u.location.country'}</div>\r\n                    <div>{'u.location.city'}</div>\r\n                </span>\r\n            </span>\r\n        </div>)\r\n};\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n}\r\n\r\n","import React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport {UserType} from 'redux/users-reducer';\r\nimport {AppRootStateType} from 'redux/store';\r\nimport {Paginator} from 'components/common/Paginator/Paginator';\r\nimport {User} from 'components/Users/User/User';\r\n\r\n\r\nconst Users = () => {\r\n    const users = useSelector<AppRootStateType, UserType[]>(state => state.usersPage.users);\r\n\r\n    return (\r\n        <div>\r\n            <Paginator/>\r\n            <div>\r\n                {\r\n                    users.map(user => <User user={user}/>)\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Users\r\n\r\n\r\n"],"names":["Paginator","dispatch","useAppDispatch","currentPage","useSelector","state","usersPage","totalItemsCount","pageSize","pagesCount","Math","ceil","pages","i","push","useEffect","requestUsersTC","portionCount","_useState","useState","_useState2","_slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","_jsxs","children","_jsx","onClick","filter","p","map","className","styles","pageNumber","onPageChangeTC","User","_ref","user","followingInProgress","NavLink","to","id","src","photos","small","userPhoto","alt","followed","disabled","some","unfollowTC","followTC","name","status","users"],"sourceRoot":""}